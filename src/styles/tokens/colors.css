/* Base tokens: colors and mixing percentages */
:root {
  --white: white;
  --black: black;

  /* Percentages for light/dark variants */
  --percentage_surface-light: 98%;
  --percentage_muted-light: 85%;
  --percentage_accent-light: 35%;

  --percentage_surface-dark: 80%;
  --percentage_muted-dark: 65%;
  --percentage_accent-dark: 20%;

  /* Active percentages default to light */
  --percentage_surface: var(--percentage_surface-light);
  --percentage_muted: var(--percentage_muted-light);
  --percentage_accent: var(--percentage_accent-light);

  /* Base colors default to light */
  --background: var(--white);
  --foreground: var(--black);

  /** alias for now */
  --shade_background: var(--white);
  --shade_foreground: var(--black);

  /* Semantic shades */
  --shade-negative: #fa5053;
  /* --shade_negative: orangered; */
  --shade_pressing: #ff991c;
  --shade-cautious: #ffed29;
  /* --shade_cautious: gold; */
  --shade-positive: #3fff00;
  /* --shade_positive: mediumseagreen; */
  --shade_informative: #00bfff;

  /* Mixed shades */
  --shade_accent: color-mix(
    in oklab,
    var(--shade_foreground),
    var(--shade_sbackground) var(--percentage_accent)
  );
  --shade_halftone: color-mix(
    in oklab,
    var(--shade_foreground),
    var(--shade_sbackground) 50%
  );
  --shade_muted: color-mix(
    in oklab,
    var(--shade_foreground),
    var(--shade_sbackground) var(--percentage_muted)
  );
  --shade_surface: color-mix(
    in oklab,
    var(--shade_foreground),
    var(--shade_sbackground) var(--percentage_surface)
  );
}

/* Switch based on system preference if no explicit data-theme */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --percentage_surface: var(--percentage_surface-dark);
    --percentage_muted: var(--percentage_muted-dark);
    --percentage_accent: var(--percentage_accent-dark);

    --background: var(--black);
    --foreground: var(--white);
  }
}

/* Explicit theme overrides */
:root[data-theme="light"] {
  --percentage_surface: var(--percentage_surface-light);
  --percentage_muted: var(--percentage_muted-light);
  --percentage_accent: var(--percentage_accent-light);

  --background: var(--white);
  --foreground: var(--black);
  --shade_background: var(--white);
  --shade_foreground: var(--black);
}

:root[data-theme="dark"] {
  --percentage_surface: var(--percentage_surface-dark);
  --percentage_muted: var(--percentage_muted-dark);
  --percentage_accent: var(--percentage_accent-dark);

  --background: var(--black);
  --foreground: var(--white);
  --shade_background: var(--black);
  --shade_foreground: var(--white);
}
